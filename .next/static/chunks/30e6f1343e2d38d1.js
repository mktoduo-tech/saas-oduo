(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(75157);let t=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow-sm glass-card transition-all duration-300 hover:shadow-md hover:border-primary/20",e),...s}));t.displayName="Card";let l=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let i=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight text-gradient",e),...s}));i.displayName="CardTitle";let d=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let o=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent";let n=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s}));n.displayName="CardFooter",e.s(["Card",()=>t,"CardContent",()=>o,"CardDescription",()=>d,"CardFooter",()=>n,"CardHeader",()=>l,"CardTitle",()=>i])},10204,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(48425),t=s.forwardRef((e,s)=>(0,a.jsx)(r.Primitive.label,{...e,ref:s,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));t.displayName="Label";var l=e.i(25913),i=e.i(75157);let d=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-foreground/90"),o=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)(t,{ref:r,className:(0,i.cn)(d(),e),...s}));o.displayName=t.displayName,e.s(["Label",()=>o],10204)},24687,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(75157);let t=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));t.displayName="Textarea",e.s(["Textarea",()=>t])},31278,e=>{"use strict";let a=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},37727,e=>{"use strict";let a=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>a],37727)},56909,e=>{"use strict";let a=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],56909)},41961,e=>{"use strict";var a=e.i(43476);let s=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var r=e.i(37727),t=e.i(19455),l=e.i(75157);function i({value:e=[],onChange:i,disabled:d,className:o,maxImages:n}){return(0,a.jsxs)("div",{className:(0,l.cn)("space-y-4",o),children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-4",children:e.map((s,l)=>(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("img",{src:s,alt:`Upload ${l+1}`,className:"h-32 w-32 rounded-md object-cover"}),(0,a.jsx)(t.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition",onClick:()=>{i(e.filter((e,a)=>a!==l))},disabled:d,children:(0,a.jsx)(r.X,{className:"h-4 w-4"})})]},l))}),(0,a.jsxs)(t.Button,{type:"button",variant:"outline",onClick:()=>{if(n&&e.length>=n)return;let a=`https://via.placeholder.com/300x200?text=Image+${e.length+1}`;i([...e,a])},disabled:d||!!n&&e.length>=n,className:"w-full",children:[(0,a.jsx)(s,{className:"mr-2 h-4 w-4"}),"Upload Image",n&&` (${e.length}/${n})`]})]})}e.s(["ImageUpload",()=>i],41961)},50691,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(18566),t=e.i(53145),l=e.i(94814),i=e.i(62201),d=e.i(19455),o=e.i(15288),n=e.i(93479),c=e.i(10204),m=e.i(24687),x=e.i(46696),p=e.i(31278),h=e.i(56909),u=e.i(41961);let f=i.object({name:i.string().min(2,"Nome deve ter no mínimo 2 caracteres"),email:i.string().email("Email inválido"),phone:i.string().min(8,"Telefone inválido"),address:i.string().optional(),logo:i.array(i.string()),primaryColor:i.string().regex(/^#[0-9A-F]{6}$/i,"Cor inválida")});function g(){let e=(0,r.useRouter)(),[i,g]=(0,s.useState)(!0),[j,v]=(0,s.useState)(!1),[N,y]=(0,s.useState)(null),{register:b,handleSubmit:C,setValue:w,watch:k,formState:{errors:L}}=(0,t.useForm)({resolver:(0,l.zodResolver)(f),defaultValues:{primaryColor:"#000000",logo:[]}}),R=k("logo");(0,s.useEffect)(()=>{S()},[]);let S=async()=>{try{g(!0);let e=await fetch("/api/tenant/settings");if(!e.ok)throw Error("Erro ao buscar configurações");let a=await e.json();y(a),w("name",a.name),w("email",a.email),w("phone",a.phone),w("address",a.address||""),w("logo",a.logo?[a.logo]:[]),w("primaryColor",a.primaryColor)}catch(e){console.error("Error fetching settings:",e),x.toast.error("Erro ao carregar configurações")}finally{g(!1)}},T=async a=>{v(!0);try{let s={name:a.name,email:a.email,phone:a.phone,address:a.address||null,logo:a.logo.length>0?a.logo[0]:null,primaryColor:a.primaryColor},r=await fetch("/api/tenant/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok){let e=await r.json();throw Error(e.error||"Erro ao salvar configurações")}x.toast.success("Configurações salvas com sucesso!"),e.refresh()}catch(e){console.error("Error saving settings:",e),x.toast.error(e.message||"Erro ao salvar configurações")}finally{v(!1)}};return i?(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsx)(p.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,a.jsxs)("div",{className:"p-8 max-w-4xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2 font-headline tracking-wide",children:"Configurações"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Gerencie as informações da sua locadora"})]}),(0,a.jsxs)("form",{onSubmit:C(T),className:"space-y-6",children:[(0,a.jsxs)(o.Card,{children:[(0,a.jsxs)(o.CardHeader,{children:[(0,a.jsx)(o.CardTitle,{className:"font-headline tracking-wide",children:"Informações Básicas"}),(0,a.jsx)(o.CardDescription,{children:"Dados principais da sua locadora"})]}),(0,a.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.Label,{children:"Logo da Empresa"}),(0,a.jsx)(u.ImageUpload,{value:R,onChange:e=>w("logo",e),maxImages:1,disabled:j}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Recomendado: 400x400px, formato PNG ou SVG"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(c.Label,{htmlFor:"name",children:["Nome da Locadora ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(n.Input,{id:"name",...b("name"),placeholder:"Ex: Locadora ABC",disabled:j}),L.name&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:L.name.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(c.Label,{htmlFor:"primaryColor",children:["Cor Principal ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)(n.Input,{id:"primaryColor",type:"color",...b("primaryColor"),disabled:j,className:"w-20 h-10"}),(0,a.jsx)(n.Input,{...b("primaryColor"),placeholder:"#000000",disabled:j,className:"flex-1"})]}),L.primaryColor&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:L.primaryColor.message})]})]})]}),(0,a.jsxs)(o.Card,{children:[(0,a.jsxs)(o.CardHeader,{children:[(0,a.jsx)(o.CardTitle,{className:"font-headline tracking-wide",children:"Informações de Contato"}),(0,a.jsx)(o.CardDescription,{children:"Dados para contato com clientes"})]}),(0,a.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(c.Label,{htmlFor:"email",children:["Email ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(n.Input,{id:"email",type:"email",...b("email"),placeholder:"contato@locadora.com.br",disabled:j}),L.email&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:L.email.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(c.Label,{htmlFor:"phone",children:["Telefone ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(n.Input,{id:"phone",type:"tel",...b("phone"),placeholder:"(00) 00000-0000",disabled:j}),L.phone&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:L.phone.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.Label,{htmlFor:"address",children:"Endereço"}),(0,a.jsx)(m.Textarea,{id:"address",...b("address"),placeholder:"Rua, número, bairro, cidade, estado",rows:3,disabled:j}),L.address&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:L.address.message})]})]})]}),N&&(0,a.jsxs)(o.Card,{children:[(0,a.jsx)(o.CardHeader,{children:(0,a.jsx)(o.CardTitle,{className:"font-headline tracking-wide",children:"Informações do Sistema"})}),(0,a.jsx)(o.CardContent,{children:(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Label,{className:"text-muted-foreground",children:"Slug"}),(0,a.jsx)("p",{className:"font-medium",children:N.slug})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Label,{className:"text-muted-foreground",children:"ID"}),(0,a.jsx)("p",{className:"font-medium font-mono text-xs",children:N.id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Label,{className:"text-muted-foreground",children:"Cadastrado em"}),(0,a.jsx)("p",{className:"font-medium",children:new Date(N.createdAt).toLocaleString("pt-BR")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Label,{className:"text-muted-foreground",children:"Última atualização"}),(0,a.jsx)("p",{className:"font-medium",children:new Date(N.updatedAt).toLocaleString("pt-BR")})]})]})})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(d.Button,{type:"submit",disabled:j,className:"gap-2",children:j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Loader2,{className:"h-4 w-4 animate-spin"}),"Salvando..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Save,{className:"h-4 w-4"}),"Salvar Configurações"]})})})]})]})}e.s(["default",()=>g])}]);