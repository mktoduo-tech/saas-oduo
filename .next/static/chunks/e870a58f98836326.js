(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(75157);let r=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow-sm glass-card transition-all duration-300 hover:shadow-md hover:border-primary/20",e),...t}));r.displayName="Card";let l=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let i=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight text-gradient",e),...t}));i.displayName="CardTitle";let d=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let n=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",e),...t}));n.displayName="CardContent";let o=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",e),...t}));o.displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>n,"CardDescription",()=>d,"CardFooter",()=>o,"CardHeader",()=>l,"CardTitle",()=>i])},87486,e=>{"use strict";var a=e.i(43476),t=e.i(25913),s=e.i(75157);let r=(0,t.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80 shadow-[0_0_10px_-3px_var(--color-primary)]",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",glass:"border-transparent bg-white/10 text-white backdrop-blur-md hover:bg-white/20"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...l}){return(0,a.jsx)("div",{className:(0,s.cn)(r({variant:t}),e),...l})}e.s(["Badge",()=>l])},99682,e=>{"use strict";var a=e.i(71645);function t(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}e.s(["usePrevious",()=>t])},64659,55900,e=>{"use strict";var a=e.i(75254);let t=(0,a.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659);let s=(0,a.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>s],55900)},84774,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(75157);let r=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:(0,s.cn)("w-full caption-bottom text-sm",e),...t})}));r.displayName="Table";let l=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("thead",{ref:r,className:(0,s.cn)("[&_tr]:border-b",e),...t}));l.displayName="TableHeader";let i=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("tbody",{ref:r,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...t}));i.displayName="TableBody",t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("tfoot",{ref:r,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let d=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("tr",{ref:r,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));d.displayName="TableRow";let n=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("th",{ref:r,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));n.displayName="TableHead";let o=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("td",{ref:r,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));o.displayName="TableCell",t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("caption",{ref:r,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption",e.s(["Table",()=>r,"TableBody",()=>i,"TableCell",()=>o,"TableHead",()=>n,"TableHeader",()=>l,"TableRow",()=>d])},87130,e=>{"use strict";let a=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>a],87130)},70057,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(26732),r=e.i(19455),l=e.i(15288),i=e.i(67489),d=e.i(84774),n=e.i(87486),o=e.i(75254);let c=(0,o.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var u=e.i(87130);let x=(0,o.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var m=e.i(63059);let h={CREATE:"default",UPDATE:"secondary",DELETE:"destructive",LOGIN:"outline",LOGOUT:"outline",VIEW:"outline"},f={CREATE:"Criou",UPDATE:"Atualizou",DELETE:"Deletou",LOGIN:"Login",LOGOUT:"Logout",VIEW:"Visualizou"},j={USER:"Usuário",CUSTOMER:"Cliente",EQUIPMENT:"Equipamento",BOOKING:"Reserva",SYSTEM:"Sistema"};function p(){let{data:e}=(0,s.useSession)(),[o,p]=(0,t.useState)([]),[g,b]=(0,t.useState)(!0),[v,N]=(0,t.useState)({page:1,limit:50,total:0,totalPages:0}),[T,C]=(0,t.useState)("all"),[y,w]=(0,t.useState)("all"),S=async(e=1)=>{try{b(!0);let a=new URLSearchParams({page:e.toString(),limit:"50"});"all"!==T&&a.append("entity",T),"all"!==y&&a.append("action",y);let t=await fetch(`/api/activity-logs?${a}`);if(t.ok){let e=await t.json();p(e.logs),N(e.pagination)}}catch(e){console.error("Error fetching activity logs:",e)}finally{b(!1)}};(0,t.useEffect)(()=>{S(1)},[T,y]);let E=e=>{S(e)};return(0,a.jsxs)("div",{className:"p-8 space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-2 font-headline tracking-wide",children:[(0,a.jsx)(c,{className:"h-8 w-8"}),"Registro de Atividades"]}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Histórico de ações realizadas no sistema"})]})}),(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{children:[(0,a.jsxs)(l.CardTitle,{className:"flex items-center gap-2 font-headline tracking-wide",children:[(0,a.jsx)(u.Filter,{className:"h-4 w-4"}),"Filtros"]}),(0,a.jsx)(l.CardDescription,{children:"Filtre os registros por tipo de ação ou entidade"})]}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Entidade"}),(0,a.jsxs)(i.Select,{value:T,onValueChange:C,children:[(0,a.jsx)(i.SelectTrigger,{children:(0,a.jsx)(i.SelectValue,{placeholder:"Todas as entidades"})}),(0,a.jsxs)(i.SelectContent,{children:[(0,a.jsx)(i.SelectItem,{value:"all",children:"Todas as entidades"}),(0,a.jsx)(i.SelectItem,{value:"USER",children:"Usuários"}),(0,a.jsx)(i.SelectItem,{value:"CUSTOMER",children:"Clientes"}),(0,a.jsx)(i.SelectItem,{value:"EQUIPMENT",children:"Equipamentos"}),(0,a.jsx)(i.SelectItem,{value:"BOOKING",children:"Reservas"})]})]})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Ação"}),(0,a.jsxs)(i.Select,{value:y,onValueChange:w,children:[(0,a.jsx)(i.SelectTrigger,{children:(0,a.jsx)(i.SelectValue,{placeholder:"Todas as ações"})}),(0,a.jsxs)(i.SelectContent,{children:[(0,a.jsx)(i.SelectItem,{value:"all",children:"Todas as ações"}),(0,a.jsx)(i.SelectItem,{value:"CREATE",children:"Criação"}),(0,a.jsx)(i.SelectItem,{value:"UPDATE",children:"Atualização"}),(0,a.jsx)(i.SelectItem,{value:"DELETE",children:"Exclusão"}),(0,a.jsx)(i.SelectItem,{value:"LOGIN",children:"Login"}),(0,a.jsx)(i.SelectItem,{value:"LOGOUT",children:"Logout"})]})]})]})]})})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsx)(l.CardTitle,{className:"font-headline tracking-wide",children:g?"Carregando...":`${v.total} registro${1!==v.total?"s":""}`})}),(0,a.jsxs)(l.CardContent,{children:[(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(d.Table,{children:[(0,a.jsx)(d.TableHeader,{children:(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableHead,{children:"Data/Hora"}),(0,a.jsx)(d.TableHead,{children:"Usuário"}),(0,a.jsx)(d.TableHead,{children:"Ação"}),(0,a.jsx)(d.TableHead,{children:"Entidade"}),(0,a.jsx)(d.TableHead,{children:"Descrição"})]})}),(0,a.jsx)(d.TableBody,{children:g?(0,a.jsx)(d.TableRow,{children:(0,a.jsx)(d.TableCell,{colSpan:5,className:"text-center py-8",children:"Carregando registros..."})}):0===o.length?(0,a.jsx)(d.TableRow,{children:(0,a.jsx)(d.TableCell,{colSpan:5,className:"text-center py-8",children:"Nenhum registro encontrado."})}):o.map(e=>(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableCell,{children:(0,a.jsx)("div",{className:"text-sm",children:new Date(e.createdAt).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:e.user.name}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.user.email})]})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(n.Badge,{variant:h[e.action],children:f[e.action]||e.action})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)("span",{className:"text-sm",children:j[e.entity]||e.entity})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)("span",{className:"text-sm",children:e.description})})]},e.id))})]})}),v.totalPages>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Página ",v.page," de ",v.totalPages]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>E(v.page-1),disabled:1===v.page||g,children:[(0,a.jsx)(x,{className:"h-4 w-4"}),"Anterior"]}),(0,a.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>E(v.page+1),disabled:v.page===v.totalPages||g,children:["Próxima",(0,a.jsx)(m.ChevronRight,{className:"h-4 w-4"})]})]})]})]})]})]})}e.s(["default",()=>p],70057)}]);