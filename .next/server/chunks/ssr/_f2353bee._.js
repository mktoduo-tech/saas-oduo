module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow-sm glass-card transition-all duration-300 hover:shadow-md hover:border-primary/20",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight text-gradient",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},86304,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(68114);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80 shadow-[0_0_10px_-3px_var(--color-primary)]",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",glass:"border-transparent bg-white/10 text-white backdrop-blur-md hover:bg-white/20"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(187),g=a.i(68114);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-foreground/90"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],70430)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},42619,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(99570),g=a.i(91119),h=a.i(66718),i=a.i(70430),j=a.i(29246),k=a.i(86304),l=a.i(210),m=a.i(14548),n=a.i(96221),o=a.i(95245),p=a.i(59501),q=a.i(56757);let r=q.z.object({name:q.z.string().min(1,"Nome é obrigatório"),email:q.z.string().email("Email inválido").optional().or(q.z.literal("")),phone:q.z.string().min(1,"Telefone é obrigatório"),cpfCnpj:q.z.string().optional(),address:q.z.string().optional(),city:q.z.string().optional(),state:q.z.string().optional(),zipCode:q.z.string().optional(),notes:q.z.string().optional()});function s({params:a}){let{id:q}=(0,c.use)(a),s=(0,d.useRouter)(),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(null),{register:z,handleSubmit:A,formState:{errors:B},reset:C}=(0,o.useForm)({resolver:(0,p.zodResolver)(r)});(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch(`/api/customers/${q}`);if(a.ok){let b=await a.json();y(b),C({name:b.name,email:b.email||"",phone:b.phone,cpfCnpj:b.cpfCnpj||"",address:b.address||"",city:b.city||"",state:b.state||"",zipCode:b.zipCode||"",notes:b.notes||""})}else alert("Cliente não encontrado"),s.push("/clientes")}catch(a){console.error("Error fetching customer:",a),alert("Erro ao carregar cliente")}finally{w(!1)}})()},[q,s,C]);let D=async a=>{try{u(!0);let b={...a,email:a.email||null,cpfCnpj:a.cpfCnpj||null,address:a.address||null,city:a.city||null,state:a.state||null,zipCode:a.zipCode||null,notes:a.notes||null},c=await fetch(`/api/customers/${q}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(c.ok)s.push("/clientes"),s.refresh();else{let a=await c.json();alert(a.error||"Erro ao atualizar cliente")}}catch(a){console.error("Error updating customer:",a),alert("Erro ao atualizar cliente")}finally{u(!1)}};return v?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,b.jsx)(n.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):x?(0,b.jsxs)("div",{className:"p-8 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(e.default,{href:"/clientes",children:(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(l.ArrowLeft,{className:"h-4 w-4"})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground font-headline tracking-wide",children:"Editar Cliente"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Atualize as informações do cliente"})]}),(0,b.jsxs)(k.Badge,{variant:"secondary",children:[x.bookings.length," reservas"]})]}),(0,b.jsxs)("form",{onSubmit:A(D),className:"space-y-6",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"font-headline tracking-wide",children:"Informações Básicas"}),(0,b.jsx)(g.CardDescription,{children:"Dados principais do cliente"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(i.Label,{htmlFor:"name",children:["Nome Completo ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(h.Input,{id:"name",...z("name"),placeholder:"Nome do cliente"}),B.name&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:B.name.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"cpfCnpj",children:"CPF/CNPJ"}),(0,b.jsx)(h.Input,{id:"cpfCnpj",...z("cpfCnpj"),placeholder:"000.000.000-00 ou 00.000.000/0000-00"}),B.cpfCnpj&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:B.cpfCnpj.message})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(h.Input,{id:"email",type:"email",...z("email"),placeholder:"cliente@exemplo.com"}),B.email&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:B.email.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(i.Label,{htmlFor:"phone",children:["Telefone ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(h.Input,{id:"phone",...z("phone"),placeholder:"(00) 00000-0000"}),B.phone&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:B.phone.message})]})]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"font-headline tracking-wide",children:"Endereço"}),(0,b.jsx)(g.CardDescription,{children:"Localização do cliente"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"address",children:"Endereço"}),(0,b.jsx)(h.Input,{id:"address",...z("address"),placeholder:"Rua, número, complemento"})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"city",children:"Cidade"}),(0,b.jsx)(h.Input,{id:"city",...z("city"),placeholder:"Cidade"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"state",children:"Estado"}),(0,b.jsx)(h.Input,{id:"state",...z("state"),placeholder:"UF",maxLength:2})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"zipCode",children:"CEP"}),(0,b.jsx)(h.Input,{id:"zipCode",...z("zipCode"),placeholder:"00000-000"})]})]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"font-headline tracking-wide",children:"Observações"}),(0,b.jsx)(g.CardDescription,{children:"Informações adicionais sobre o cliente"})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"notes",children:"Observações"}),(0,b.jsx)(j.Textarea,{id:"notes",...z("notes"),placeholder:"Adicione notas sobre o cliente...",rows:4})]})})]}),x.bookings.length>0&&(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"font-headline tracking-wide",children:"Histórico de Reservas"}),(0,b.jsx)(g.CardDescription,{children:"Últimas reservas deste cliente"})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:x.bookings.slice(0,5).map(a=>(0,b.jsx)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.equipment.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[new Date(a.startDate).toLocaleDateString("pt-BR")," ","até"," ",new Date(a.endDate).toLocaleDateString("pt-BR")]})]})},a.id))})})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,b.jsx)(e.default,{href:"/clientes",children:(0,b.jsx)(f.Button,{type:"button",variant:"outline",disabled:t,children:"Cancelar"})}),(0,b.jsxs)(f.Button,{type:"submit",disabled:t,className:"gap-2",children:[(0,b.jsx)(m.Save,{className:"h-4 w-4"}),t?"Salvando...":"Salvar Alterações"]})]})]})]}):null}a.s(["default",()=>s])}];

//# sourceMappingURL=_f2353bee._.js.map