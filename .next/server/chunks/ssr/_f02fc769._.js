module.exports=[77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},5784,67552,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>c],5784);let d=(0,b.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["ChevronUp",()=>d],67552)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow-sm glass-card transition-all duration-300 hover:shadow-md hover:border-primary/20",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight text-gradient",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(187),g=a.i(68114);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-foreground/90"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],70430)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},42381,a=>{"use strict";var b=a.i(87924);let c=(0,a.i(70106).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var d=a.i(33508),e=a.i(99570),f=a.i(68114);function g({value:a=[],onChange:g,disabled:h,className:i,maxImages:j}){return(0,b.jsxs)("div",{className:(0,f.cn)("space-y-4",i),children:[(0,b.jsx)("div",{className:"flex flex-wrap gap-4",children:a.map((c,f)=>(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("img",{src:c,alt:`Upload ${f+1}`,className:"h-32 w-32 rounded-md object-cover"}),(0,b.jsx)(e.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition",onClick:()=>{g(a.filter((a,b)=>b!==f))},disabled:h,children:(0,b.jsx)(d.X,{className:"h-4 w-4"})})]},f))}),(0,b.jsxs)(e.Button,{type:"button",variant:"outline",onClick:()=>{if(j&&a.length>=j)return;let b=`https://via.placeholder.com/300x200?text=Image+${a.length+1}`;g([...a,b])},disabled:h||!!j&&a.length>=j,className:"w-full",children:[(0,b.jsx)(c,{className:"mr-2 h-4 w-4"}),"Upload Image",j&&` (${a.length}/${j})`]})]})}a.s(["ImageUpload",()=>g],42381)},3062,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(54714),h=a.i(38246),i=a.i(210),j=a.i(99570),k=a.i(91119),l=a.i(66718),m=a.i(70430),n=a.i(29246),o=a.i(80701),p=a.i(42381),q=a.i(23292);let r=g.object({name:g.string().min(3,"Nome deve ter no mínimo 3 caracteres"),description:g.string().optional(),category:g.string().min(2,"Categoria é obrigatória"),images:g.array(g.string()),pricePerHour:g.string().optional(),pricePerDay:g.string().min(1,"Preço por dia é obrigatório"),quantity:g.string().min(1,"Quantidade é obrigatória"),status:g.enum(["AVAILABLE","RENTED","MAINTENANCE","INACTIVE"])});function s({params:a}){let g=(0,c.use)(a),s=(0,d.useRouter)(),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!0),{register:x,handleSubmit:y,setValue:z,watch:A,formState:{errors:B}}=(0,e.useForm)({resolver:(0,f.zodResolver)(r)}),C=A("status"),D=A("images");(0,c.useEffect)(()=>{E()},[]);let E=async()=>{try{w(!0);let a=await fetch(`/api/equipments/${g.id}`);if(!a.ok)throw Error("Equipamento não encontrado");let b=await a.json();z("name",b.name),z("description",b.description||""),z("category",b.category),z("images",b.images||[]),z("pricePerHour",b.pricePerHour?String(b.pricePerHour):""),z("pricePerDay",String(b.pricePerDay)),z("quantity",String(b.quantity)),z("status",b.status)}catch(a){q.toast.error(a.message||"Erro ao carregar equipamento"),s.push("/equipamentos")}finally{w(!1)}},F=async a=>{u(!0);try{let b={name:a.name,description:a.description||null,category:a.category,images:a.images,pricePerHour:a.pricePerHour?parseFloat(a.pricePerHour):null,pricePerDay:parseFloat(a.pricePerDay),quantity:parseInt(a.quantity),status:a.status},c=await fetch(`/api/equipments/${g.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok){let a=await c.json();throw Error(a.error||"Erro ao atualizar equipamento")}q.toast.success("Equipamento atualizado com sucesso!"),s.push("/equipamentos"),s.refresh()}catch(a){q.toast.error(a.message||"Erro ao atualizar equipamento")}finally{u(!1)}};return v?(0,b.jsx)("div",{className:"p-8 max-w-4xl mx-auto",children:(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Carregando..."})})}):(0,b.jsxs)("div",{className:"p-8 max-w-4xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.default,{href:"/equipamentos",children:(0,b.jsxs)(j.Button,{variant:"ghost",size:"sm",className:"mb-4",children:[(0,b.jsx)(i.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Voltar"]})}),(0,b.jsx)("h1",{className:"text-4xl font-bold mb-2 font-headline tracking-wide",children:"Editar Equipamento"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Atualize as informações do equipamento"})]}),(0,b.jsx)("form",{onSubmit:y(F),children:(0,b.jsxs)(k.Card,{children:[(0,b.jsxs)(k.CardHeader,{children:[(0,b.jsx)(k.CardTitle,{className:"font-headline tracking-wide",children:"Informações do Equipamento"}),(0,b.jsx)(k.CardDescription,{children:"Atualize os dados do equipamento"})]}),(0,b.jsxs)(k.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"name",children:"Nome *"}),(0,b.jsx)(l.Input,{id:"name",placeholder:"Ex: Betoneira 400L",disabled:t,...x("name")}),B.name&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:B.name.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"description",children:"Descrição"}),(0,b.jsx)(n.Textarea,{id:"description",placeholder:"Descreva o equipamento, características, especificações...",rows:4,disabled:t,...x("description")}),B.description&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:B.description.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"category",children:"Categoria *"}),(0,b.jsx)(l.Input,{id:"category",placeholder:"Ex: Construção, Jardinagem, Festa",disabled:t,...x("category")}),B.category&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:B.category.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{children:"Imagens do Equipamento"}),(0,b.jsx)(p.ImageUpload,{value:D||[],onChange:a=>z("images",a),maxImages:5,disabled:t}),B.images&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:B.images.message})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"pricePerDay",children:"Preço por Dia (R$) *"}),(0,b.jsx)(l.Input,{id:"pricePerDay",type:"number",step:"0.01",placeholder:"0.00",disabled:t,...x("pricePerDay")}),B.pricePerDay&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:B.pricePerDay.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"pricePerHour",children:"Preço por Hora (R$)"}),(0,b.jsx)(l.Input,{id:"pricePerHour",type:"number",step:"0.01",placeholder:"0.00 (opcional)",disabled:t,...x("pricePerHour")}),B.pricePerHour&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:B.pricePerHour.message})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"quantity",children:"Quantidade *"}),(0,b.jsx)(l.Input,{id:"quantity",type:"number",min:"1",disabled:t,...x("quantity")}),B.quantity&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:B.quantity.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"status",children:"Status *"}),(0,b.jsxs)(o.Select,{value:C,onValueChange:a=>z("status",a),disabled:t,children:[(0,b.jsx)(o.SelectTrigger,{children:(0,b.jsx)(o.SelectValue,{})}),(0,b.jsxs)(o.SelectContent,{children:[(0,b.jsx)(o.SelectItem,{value:"AVAILABLE",children:"Disponível"}),(0,b.jsx)(o.SelectItem,{value:"RENTED",children:"Alugado"}),(0,b.jsx)(o.SelectItem,{value:"MAINTENANCE",children:"Manutenção"}),(0,b.jsx)(o.SelectItem,{value:"INACTIVE",children:"Inativo"})]})]}),B.status&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:B.status.message})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)(j.Button,{type:"submit",disabled:t,className:"flex-1",children:t?"Salvando...":"Salvar Alterações"}),(0,b.jsx)(h.default,{href:"/equipamentos",className:"flex-1",children:(0,b.jsx)(j.Button,{type:"button",variant:"outline",disabled:t,className:"w-full",children:"Cancelar"})})]})]})]})})]})}a.s(["default",()=>s])}];

//# sourceMappingURL=_f02fc769._.js.map