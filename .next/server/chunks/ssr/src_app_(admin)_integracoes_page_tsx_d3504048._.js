module.exports=[1915,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15618),e=a.i(70106);let f=(0,e.default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),g=(0,e.default)("webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);var h=a.i(5151),i=a.i(33441),j=a.i(81560);let k=(0,e.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),l=(0,e.default)("power-off",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var m=a.i(73570);let n=(0,e.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var o=a.i(91119),p=a.i(99570),q=a.i(14574),r=a.i(86192),s=a.i(66718),t=a.i(70430),u=a.i(86304),v=a.i(75083),w=a.i(70121),x=a.i(7554),y=a.i(25152),z=a.i(77994),A=a.i(3688),B=a.i(77192);a.i(35112);var C=Symbol("radix.slottable");function D(a){return c.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===C}var E=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{var e,f;let g,h,i,j=(f=e=`Primitive.${d}`,(g=c.forwardRef((a,b)=>{let{children:d,...e}=a;if(c.isValidElement(d)){var f;let a,g,h=(f=d,(g=(a=Object.getOwnPropertyDescriptor(f.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.ref:(g=(a=Object.getOwnPropertyDescriptor(f,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.props.ref:f.props.ref||f.ref),i=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(e,d.props);return d.type!==c.Fragment&&(i.ref=b?(0,w.composeRefs)(b,h):h),c.cloneElement(d,i)}return c.Children.count(d)>1?c.Children.only(null):null})).displayName=`${f}.SlotClone`,h=g,(i=c.forwardRef((a,d)=>{let{children:e,...f}=a,g=c.Children.toArray(e),i=g.find(D);if(i){let a=i.props.children,e=g.map(b=>b!==i?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(h,{...f,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(h,{...f,ref:d,children:e})})).displayName=`${e}.Slot`,i),k=c.forwardRef((a,c)=>{let{asChild:e,...f}=a;return(0,b.jsx)(e?j:d,{...f,ref:c})});return k.displayName=`Primitive.${d}`,{...a,[d]:k}},{}),F="Checkbox",[G,H]=function(a,d=[]){let e=[],f=()=>{let b=e.map(a=>c.createContext(a));return function(d){let e=d?.[a]||b;return c.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(d,f){let g=c.createContext(f),h=e.length;e=[...e,f];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=c.useMemo(()=>i,Object.values(i));return(0,b.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(b,e){let i=e?.[a]?.[h]||g,j=c.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${b}\` must be used within \`${d}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return c.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return d.scopeName=b.scopeName,d}(f,...d)]}(F),[I,J]=G(F);function K(a){let{__scopeCheckbox:d,checked:e,children:f,defaultChecked:g,disabled:h,form:i,name:j,onCheckedChange:k,required:l,value:m="on",internal_do_not_use_render:n}=a,[o,p]=(0,y.useControllableState)({prop:e,defaultProp:g??!1,onChange:k,caller:F}),[q,r]=c.useState(null),[s,t]=c.useState(null),u=c.useRef(!1),v=!q||!!i||!!q.closest("form"),w={checked:o,disabled:h,setChecked:p,control:q,setControl:r,name:j,form:i,value:m,hasConsumerStoppedPropagationRef:u,required:l,defaultChecked:!S(g)&&g,isFormControl:v,bubbleInput:s,setBubbleInput:t};return(0,b.jsx)(I,{scope:d,...w,children:"function"==typeof n?n(w):f})}var L="CheckboxTrigger",M=c.forwardRef(({__scopeCheckbox:a,onKeyDown:d,onClick:e,...f},g)=>{let{control:h,value:i,disabled:j,checked:k,required:l,setControl:m,setChecked:n,hasConsumerStoppedPropagationRef:o,isFormControl:p,bubbleInput:q}=J(L,a),r=(0,w.useComposedRefs)(g,m),s=c.useRef(k);return c.useEffect(()=>{let a=h?.form;if(a){let b=()=>n(s.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[h,n]),(0,b.jsx)(E.button,{type:"button",role:"checkbox","aria-checked":S(k)?"mixed":k,"aria-required":l,"data-state":T(k),"data-disabled":j?"":void 0,disabled:j,value:i,...f,ref:r,onKeyDown:(0,x.composeEventHandlers)(d,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,x.composeEventHandlers)(e,a=>{n(a=>!!S(a)||!a),q&&p&&(o.current=a.isPropagationStopped(),o.current||a.stopPropagation())})})});M.displayName=L;var N=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j,onCheckedChange:k,form:l,...m}=a;return(0,b.jsx)(K,{__scopeCheckbox:d,checked:f,defaultChecked:g,disabled:i,required:h,onCheckedChange:k,name:e,form:l,value:j,internal_do_not_use_render:({isFormControl:a})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(M,{...m,ref:c,__scopeCheckbox:d}),a&&(0,b.jsx)(R,{__scopeCheckbox:d})]})})});N.displayName=F;var O="CheckboxIndicator",P=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,forceMount:e,...f}=a,g=J(O,d);return(0,b.jsx)(B.Presence,{present:e||S(g.checked)||!0===g.checked,children:(0,b.jsx)(E.span,{"data-state":T(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c,style:{pointerEvents:"none",...a.style}})})});P.displayName=O;var Q="CheckboxBubbleInput",R=c.forwardRef(({__scopeCheckbox:a,...d},e)=>{let{control:f,hasConsumerStoppedPropagationRef:g,checked:h,defaultChecked:i,required:j,disabled:k,name:l,value:m,form:n,bubbleInput:o,setBubbleInput:p}=J(Q,a),q=(0,w.useComposedRefs)(e,p),r=(0,z.usePrevious)(h),s=(0,A.useSize)(f);c.useEffect(()=>{if(!o)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!g.current;if(r!==h&&a){let c=new Event("click",{bubbles:b});o.indeterminate=S(h),a.call(o,!S(h)&&h),o.dispatchEvent(c)}},[o,r,h,g]);let t=c.useRef(!S(h)&&h);return(0,b.jsx)(E.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??t.current,required:j,disabled:k,name:l,value:m,form:n,...d,tabIndex:-1,ref:q,style:{...d.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function S(a){return"indeterminate"===a}function T(a){return S(a)?"indeterminate":a?"checked":"unchecked"}R.displayName=Q;var U=a.i(68114);let V=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(N,{ref:d,className:(0,U.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...c,children:(0,b.jsx)(P,{className:(0,U.cn)("flex items-center justify-center text-current"),children:(0,b.jsx)(i.Check,{className:"h-4 w-4"})})}));V.displayName=N.displayName;var W=a.i(23292),X=a.i(38246);let Y=[{value:"booking.created",label:"Reserva Criada"},{value:"booking.updated",label:"Reserva Atualizada"},{value:"booking.cancelled",label:"Reserva Cancelada"},{value:"equipment.created",label:"Equipamento Criado"},{value:"equipment.updated",label:"Equipamento Atualizado"},{value:"customer.created",label:"Cliente Criado"},{value:"customer.updated",label:"Cliente Atualizado"}];function Z(){let[a,e]=(0,c.useState)([]),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)(!0),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)([]),[Q,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)(null),[U,Z]=(0,c.useState)(null),[$,_]=(0,c.useState)(null),[aa,ab]=(0,c.useState)(null);(0,c.useEffect)(()=>{ac()},[]);let ac=async()=>{try{z(!0);let[a,b]=await Promise.all([fetch("/api/integrations/api-keys"),fetch("/api/integrations/webhooks")]);if(a.ok){let b=await a.json();e(b)}if(b.ok){let a=await b.json();x(a)}}catch(a){console.error("Error fetching data:",a)}finally{z(!1)}},ad=async()=>{if(!C.trim())return void W.toast.error("Digite um nome para a API key");F(!0);try{let a=await fetch("/api/integrations/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:C})});if(!a.ok)throw Error("Erro ao criar API key");let b=await a.json();H(b.key),W.toast.success("API key criada com sucesso!"),ac()}catch(a){W.toast.error(a.message||"Erro ao criar API key")}finally{F(!1)}},ae=async a=>{try{if(!(await fetch(`/api/integrations/api-keys/${a}`,{method:"DELETE"})).ok)throw Error("Erro ao deletar API key");W.toast.success("API key deletada com sucesso!"),ac()}catch(a){W.toast.error(a.message||"Erro ao deletar API key")}finally{Z(null)}},af=async(a,b)=>{try{if(!(await fetch(`/api/integrations/api-keys/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!b})})).ok)throw Error("Erro ao atualizar API key");W.toast.success(`API key ${!b?"ativada":"desativada"} com sucesso!`),ac()}catch(a){W.toast.error(a.message||"Erro ao atualizar API key")}},ag=async()=>{if(!K.trim()||!M.trim())return void W.toast.error("Preencha todos os campos obrigatórios");if(0===O.length)return void W.toast.error("Selecione ao menos um evento");R(!0);try{let a=await fetch("/api/integrations/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:K,url:M,events:O})});if(!a.ok)throw Error("Erro ao criar webhook");let b=await a.json();T(b.secret),W.toast.success("Webhook criado com sucesso!"),ac()}catch(a){W.toast.error(a.message||"Erro ao criar webhook")}finally{R(!1)}},ah=async a=>{try{if(!(await fetch(`/api/integrations/webhooks/${a}`,{method:"DELETE"})).ok)throw Error("Erro ao deletar webhook");W.toast.success("Webhook deletado com sucesso!"),ac()}catch(a){W.toast.error(a.message||"Erro ao deletar webhook")}finally{_(null)}},ai=async(a,b)=>{try{if(!(await fetch(`/api/integrations/webhooks/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!b})})).ok)throw Error("Erro ao atualizar webhook");W.toast.success(`Webhook ${!b?"ativado":"desativado"} com sucesso!`),ac()}catch(a){W.toast.error(a.message||"Erro ao atualizar webhook")}},aj=(a,b)=>{navigator.clipboard.writeText(a),ab(b),W.toast.success("Copiado para área de transferência!"),setTimeout(()=>ab(null),2e3)};return(0,b.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-6 sm:space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-2 font-headline tracking-wide",children:"Integrações"}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Gerencie API keys e webhooks para integrar com sistemas externos"})]}),(0,b.jsx)(X.default,{href:"/ajuda/api",className:"w-full sm:w-auto",children:(0,b.jsxs)(p.Button,{variant:"outline",className:"w-full sm:w-auto",children:[(0,b.jsx)(n,{className:"mr-2 h-4 w-4"}),"Ver Documentação"]})})]}),(0,b.jsxs)(v.Tabs,{defaultValue:"api-keys",className:"space-y-4 sm:space-y-6",children:[(0,b.jsxs)(v.TabsList,{className:"w-full grid grid-cols-2 h-auto",children:[(0,b.jsxs)(v.TabsTrigger,{value:"api-keys",className:"text-xs sm:text-sm",children:[(0,b.jsx)(f,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"API Keys"}),(0,b.jsx)("span",{className:"sm:hidden",children:"API"})]}),(0,b.jsxs)(v.TabsTrigger,{value:"webhooks",className:"text-xs sm:text-sm",children:[(0,b.jsx)(g,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Webhooks"]})]}),(0,b.jsx)(v.TabsContent,{value:"api-keys",className:"space-y-6",children:(0,b.jsxs)(o.Card,{children:[(0,b.jsxs)(o.CardHeader,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0 pb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.CardTitle,{className:"text-base sm:text-lg font-headline tracking-wide",children:"API Keys"}),(0,b.jsx)(o.CardDescription,{className:"text-xs sm:text-sm",children:"Chaves para autenticar requisições à API"})]}),(0,b.jsxs)(q.Dialog,{open:A,onOpenChange:B,children:[(0,b.jsx)(q.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(p.Button,{className:"w-full sm:w-auto",children:[(0,b.jsx)(d.Plus,{className:"mr-2 h-4 w-4"}),"Nova API Key"]})}),(0,b.jsxs)(q.DialogContent,{children:[(0,b.jsxs)(q.DialogHeader,{children:[(0,b.jsx)(q.DialogTitle,{children:G?"API Key Criada!":"Criar Nova API Key"}),(0,b.jsx)(q.DialogDescription,{children:G?"Esta é a única vez que você verá esta chave. Copie e guarde em local seguro!":"Crie uma nova chave para autenticar requisições à API"})]}),G?(0,b.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,b.jsx)("div",{className:"p-4 bg-accent/10 dark:bg-accent/20 border border-accent/30 dark:border-accent/40 rounded-lg space-y-2",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(m.AlertTriangle,{className:"h-5 w-5 text-accent mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm text-foreground",children:[(0,b.jsx)("p",{className:"font-medium",children:"Atenção!"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Esta é a única vez que esta chave será exibida. Copie agora e guarde em local seguro."})]})]})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{children:"Sua API Key"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(s.Input,{value:G,readOnly:!0,className:"font-mono text-sm"}),(0,b.jsx)(p.Button,{size:"icon",variant:"outline",onClick:()=>aj(G,"api-key"),children:"api-key"===aa?(0,b.jsx)(i.Check,{className:"h-4 w-4"}):(0,b.jsx)(h.Copy,{className:"h-4 w-4"})})]})]}),(0,b.jsx)(p.Button,{onClick:()=>{B(!1),D(""),H(null)},className:"w-full",children:"Fechar"})]}):(0,b.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{htmlFor:"apiKeyName",children:"Nome da API Key *"}),(0,b.jsx)(s.Input,{id:"apiKeyName",placeholder:"Ex: Mobile App, Integração ERP",value:C,onChange:a=>D(a.target.value),disabled:E})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,b.jsx)(p.Button,{onClick:ad,disabled:E,className:"flex-1",children:E?"Criando...":"Criar API Key"}),(0,b.jsx)(p.Button,{variant:"outline",onClick:()=>B(!1),disabled:E,children:"Cancelar"})]})]})]})]})]}),(0,b.jsx)(o.CardContent,{children:y?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):0===a.length?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma API key cadastrada"}):(0,b.jsx)("div",{className:"space-y-3 sm:space-y-4",children:a.map(a=>(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"space-y-2 flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-medium text-sm sm:text-base truncate",children:a.name}),a.active?(0,b.jsx)(u.Badge,{className:"bg-green-600 w-fit text-xs",children:"Ativa"}):(0,b.jsx)(u.Badge,{variant:"secondary",className:"w-fit text-xs",children:"Inativa"})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[(0,b.jsxs)("code",{className:"bg-muted px-2 py-0.5 rounded w-fit",children:[a.prefix,"..."]}),a.lastUsedAt&&(0,b.jsxs)("span",{className:"text-[10px] sm:text-xs",children:["Último uso:"," ",new Date(a.lastUsedAt).toLocaleDateString("pt-BR")]}),(0,b.jsxs)("span",{className:"text-[10px] sm:text-xs",children:["Criada: ",new Date(a.createdAt).toLocaleDateString("pt-BR")]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end sm:justify-start",children:[(0,b.jsx)(p.Button,{size:"sm",variant:"ghost",onClick:()=>af(a.id,a.active),children:a.active?(0,b.jsx)(l,{className:"h-4 w-4 text-orange-600"}):(0,b.jsx)(k,{className:"h-4 w-4 text-green-600"})}),(0,b.jsx)(p.Button,{size:"sm",variant:"ghost",onClick:()=>Z(a.id),children:(0,b.jsx)(j.Trash2,{className:"h-4 w-4 text-red-600"})})]})]},a.id))})})]})}),(0,b.jsx)(v.TabsContent,{value:"webhooks",className:"space-y-6",children:(0,b.jsxs)(o.Card,{children:[(0,b.jsxs)(o.CardHeader,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0 pb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.CardTitle,{className:"text-base sm:text-lg font-headline tracking-wide",children:"Webhooks"}),(0,b.jsx)(o.CardDescription,{className:"text-xs sm:text-sm",children:"Receba notificações em tempo real sobre eventos do sistema"})]}),(0,b.jsxs)(q.Dialog,{open:I,onOpenChange:J,children:[(0,b.jsx)(q.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(p.Button,{className:"w-full sm:w-auto",children:[(0,b.jsx)(d.Plus,{className:"mr-2 h-4 w-4"}),"Novo Webhook"]})}),(0,b.jsxs)(q.DialogContent,{className:"max-w-2xl",children:[(0,b.jsxs)(q.DialogHeader,{children:[(0,b.jsx)(q.DialogTitle,{children:S?"Webhook Criado!":"Criar Novo Webhook"}),(0,b.jsx)(q.DialogDescription,{children:S?"Webhook criado com sucesso. Guarde o secret para validar as requisições.":"Configure um endpoint para receber notificações de eventos"})]}),S?(0,b.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,b.jsx)("div",{className:"p-4 bg-primary/10 dark:bg-primary/20 border border-primary/30 dark:border-primary/40 rounded-lg space-y-2",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(f,{className:"h-5 w-5 text-primary mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm text-foreground",children:[(0,b.jsx)("p",{className:"font-medium",children:"Secret do Webhook"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Use este secret para validar que as requisições vieram do nosso sistema."})]})]})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{children:"Webhook Secret"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(s.Input,{value:S,readOnly:!0,className:"font-mono text-sm"}),(0,b.jsx)(p.Button,{size:"icon",variant:"outline",onClick:()=>aj(S,"webhook-secret"),children:"webhook-secret"===aa?(0,b.jsx)(i.Check,{className:"h-4 w-4"}):(0,b.jsx)(h.Copy,{className:"h-4 w-4"})})]})]}),(0,b.jsx)(p.Button,{onClick:()=>{J(!1),L(""),N(""),P([]),T(null)},className:"w-full",children:"Fechar"})]}):(0,b.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{htmlFor:"webhookName",children:"Nome do Webhook *"}),(0,b.jsx)(s.Input,{id:"webhookName",placeholder:"Ex: Notificações ERP",value:K,onChange:a=>L(a.target.value),disabled:Q})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{htmlFor:"webhookUrl",children:"URL do Endpoint *"}),(0,b.jsx)(s.Input,{id:"webhookUrl",placeholder:"https://seu-sistema.com/webhook",value:M,onChange:a=>N(a.target.value),disabled:Q})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{children:"Eventos *"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Y.map(a=>(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(V,{id:a.value,checked:O.includes(a.value),onCheckedChange:b=>{b?P([...O,a.value]):P(O.filter(b=>b!==a.value))},disabled:Q}),(0,b.jsx)(t.Label,{htmlFor:a.value,className:"text-sm font-normal cursor-pointer",children:a.label})]},a.value))})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,b.jsx)(p.Button,{onClick:ag,disabled:Q,className:"flex-1",children:Q?"Criando...":"Criar Webhook"}),(0,b.jsx)(p.Button,{variant:"outline",onClick:()=>J(!1),disabled:Q,children:"Cancelar"})]})]})]})]})]}),(0,b.jsx)(o.CardContent,{children:y?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):0===w.length?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum webhook cadastrado"}):(0,b.jsx)("div",{className:"space-y-3 sm:space-y-4",children:w.map(a=>(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"space-y-2 flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[(0,b.jsx)("h3",{className:"font-medium text-sm sm:text-base truncate",children:a.name}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[a.active?(0,b.jsx)(u.Badge,{className:"bg-green-600 text-xs",children:"Ativo"}):(0,b.jsx)(u.Badge,{variant:"secondary",className:"text-xs",children:"Inativo"}),a.failureCount>0&&(0,b.jsxs)(u.Badge,{variant:"destructive",className:"text-xs",children:[a.failureCount," falhas"]})]})]}),(0,b.jsxs)("div",{className:"text-xs sm:text-sm text-muted-foreground space-y-2",children:[(0,b.jsx)("p",{className:"font-mono break-all",children:a.url}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.events.map(a=>(0,b.jsx)(u.Badge,{variant:"outline",className:"text-[10px] sm:text-xs",children:Y.find(b=>b.value===a)?.label||a},a))}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 text-[10px] sm:text-xs",children:[a.lastTriggeredAt&&(0,b.jsxs)("span",{children:["Último disparo:"," ",new Date(a.lastTriggeredAt).toLocaleString("pt-BR")]}),(0,b.jsxs)("span",{children:["Criado:"," ",new Date(a.createdAt).toLocaleDateString("pt-BR")]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end sm:justify-start flex-shrink-0",children:[(0,b.jsx)(p.Button,{size:"sm",variant:"ghost",onClick:()=>ai(a.id,a.active),children:a.active?(0,b.jsx)(l,{className:"h-4 w-4 text-orange-600"}):(0,b.jsx)(k,{className:"h-4 w-4 text-green-600"})}),(0,b.jsx)(p.Button,{size:"sm",variant:"ghost",onClick:()=>_(a.id),children:(0,b.jsx)(j.Trash2,{className:"h-4 w-4 text-red-600"})})]})]},a.id))})})]})})]}),(0,b.jsx)(r.AlertDialog,{open:!!U,onOpenChange:()=>Z(null),children:(0,b.jsxs)(r.AlertDialogContent,{children:[(0,b.jsxs)(r.AlertDialogHeader,{children:[(0,b.jsx)(r.AlertDialogTitle,{children:"Deletar API Key"}),(0,b.jsx)(r.AlertDialogDescription,{children:"Tem certeza que deseja deletar esta API key? Esta ação não pode ser desfeita e todas as integrações usando esta chave pararão de funcionar."})]}),(0,b.jsxs)(r.AlertDialogFooter,{children:[(0,b.jsx)(r.AlertDialogCancel,{children:"Cancelar"}),(0,b.jsx)(r.AlertDialogAction,{onClick:()=>U&&ae(U),className:"bg-red-600 hover:bg-red-700",children:"Deletar"})]})]})}),(0,b.jsx)(r.AlertDialog,{open:!!$,onOpenChange:()=>_(null),children:(0,b.jsxs)(r.AlertDialogContent,{children:[(0,b.jsxs)(r.AlertDialogHeader,{children:[(0,b.jsx)(r.AlertDialogTitle,{children:"Deletar Webhook"}),(0,b.jsx)(r.AlertDialogDescription,{children:"Tem certeza que deseja deletar este webhook? Você não receberá mais notificações deste endpoint."})]}),(0,b.jsxs)(r.AlertDialogFooter,{children:[(0,b.jsx)(r.AlertDialogCancel,{children:"Cancelar"}),(0,b.jsx)(r.AlertDialogAction,{onClick:()=>$&&ah($),className:"bg-red-600 hover:bg-red-700",children:"Deletar"})]})]})})]})}a.s(["default",()=>Z],1915)}];

//# sourceMappingURL=src_app_%28admin%29_integracoes_page_tsx_d3504048._.js.map