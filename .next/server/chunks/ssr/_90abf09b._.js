module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow-sm glass-card transition-all duration-300 hover:shadow-md hover:border-primary/20",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight text-gradient",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(187),g=a.i(68114);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-foreground/90"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],70430)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},42381,a=>{"use strict";var b=a.i(87924);let c=(0,a.i(70106).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var d=a.i(33508),e=a.i(99570),f=a.i(68114);function g({value:a=[],onChange:g,disabled:h,className:i,maxImages:j}){return(0,b.jsxs)("div",{className:(0,f.cn)("space-y-4",i),children:[(0,b.jsx)("div",{className:"flex flex-wrap gap-4",children:a.map((c,f)=>(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("img",{src:c,alt:`Upload ${f+1}`,className:"h-32 w-32 rounded-md object-cover"}),(0,b.jsx)(e.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition",onClick:()=>{g(a.filter((a,b)=>b!==f))},disabled:h,children:(0,b.jsx)(d.X,{className:"h-4 w-4"})})]},f))}),(0,b.jsxs)(e.Button,{type:"button",variant:"outline",onClick:()=>{if(j&&a.length>=j)return;let b=`https://via.placeholder.com/300x200?text=Image+${a.length+1}`;g([...a,b])},disabled:h||!!j&&a.length>=j,className:"w-full",children:[(0,b.jsx)(c,{className:"mr-2 h-4 w-4"}),"Upload Image",j&&` (${a.length}/${j})`]})]})}a.s(["ImageUpload",()=>g],42381)},49642,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(54714),h=a.i(99570),i=a.i(91119),j=a.i(66718),k=a.i(70430),l=a.i(29246),m=a.i(23292),n=a.i(96221),o=a.i(14548),p=a.i(42381);let q=g.object({name:g.string().min(2,"Nome deve ter no mínimo 2 caracteres"),email:g.string().email("Email inválido"),phone:g.string().min(8,"Telefone inválido"),address:g.string().optional(),logo:g.array(g.string()),primaryColor:g.string().regex(/^#[0-9A-F]{6}$/i,"Cor inválida")});function r(){let a=(0,d.useRouter)(),[g,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),{register:w,handleSubmit:x,setValue:y,watch:z,formState:{errors:A}}=(0,e.useForm)({resolver:(0,f.zodResolver)(q),defaultValues:{primaryColor:"#000000",logo:[]}}),B=z("logo");(0,c.useEffect)(()=>{C()},[]);let C=async()=>{try{r(!0);let a=await fetch("/api/tenant/settings");if(!a.ok)throw Error("Erro ao buscar configurações");let b=await a.json();v(b),y("name",b.name),y("email",b.email),y("phone",b.phone),y("address",b.address||""),y("logo",b.logo?[b.logo]:[]),y("primaryColor",b.primaryColor)}catch(a){console.error("Error fetching settings:",a),m.toast.error("Erro ao carregar configurações")}finally{r(!1)}},D=async b=>{t(!0);try{let c={name:b.name,email:b.email,phone:b.phone,address:b.address||null,logo:b.logo.length>0?b.logo[0]:null,primaryColor:b.primaryColor},d=await fetch("/api/tenant/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!d.ok){let a=await d.json();throw Error(a.error||"Erro ao salvar configurações")}m.toast.success("Configurações salvas com sucesso!"),a.refresh()}catch(a){console.error("Error saving settings:",a),m.toast.error(a.message||"Erro ao salvar configurações")}finally{t(!1)}};return g?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,b.jsx)(n.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"p-8 max-w-4xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-2 font-headline tracking-wide",children:"Configurações"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Gerencie as informações da sua locadora"})]}),(0,b.jsxs)("form",{onSubmit:x(D),className:"space-y-6",children:[(0,b.jsxs)(i.Card,{children:[(0,b.jsxs)(i.CardHeader,{children:[(0,b.jsx)(i.CardTitle,{className:"font-headline tracking-wide",children:"Informações Básicas"}),(0,b.jsx)(i.CardDescription,{children:"Dados principais da sua locadora"})]}),(0,b.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(k.Label,{children:"Logo da Empresa"}),(0,b.jsx)(p.ImageUpload,{value:B,onChange:a=>y("logo",a),maxImages:1,disabled:s}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Recomendado: 400x400px, formato PNG ou SVG"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(k.Label,{htmlFor:"name",children:["Nome da Locadora ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(j.Input,{id:"name",...w("name"),placeholder:"Ex: Locadora ABC",disabled:s}),A.name&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:A.name.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(k.Label,{htmlFor:"primaryColor",children:["Cor Principal ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,b.jsx)(j.Input,{id:"primaryColor",type:"color",...w("primaryColor"),disabled:s,className:"w-20 h-10"}),(0,b.jsx)(j.Input,{...w("primaryColor"),placeholder:"#000000",disabled:s,className:"flex-1"})]}),A.primaryColor&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:A.primaryColor.message})]})]})]}),(0,b.jsxs)(i.Card,{children:[(0,b.jsxs)(i.CardHeader,{children:[(0,b.jsx)(i.CardTitle,{className:"font-headline tracking-wide",children:"Informações de Contato"}),(0,b.jsx)(i.CardDescription,{children:"Dados para contato com clientes"})]}),(0,b.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(k.Label,{htmlFor:"email",children:["Email ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(j.Input,{id:"email",type:"email",...w("email"),placeholder:"contato@locadora.com.br",disabled:s}),A.email&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:A.email.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(k.Label,{htmlFor:"phone",children:["Telefone ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(j.Input,{id:"phone",type:"tel",...w("phone"),placeholder:"(00) 00000-0000",disabled:s}),A.phone&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:A.phone.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(k.Label,{htmlFor:"address",children:"Endereço"}),(0,b.jsx)(l.Textarea,{id:"address",...w("address"),placeholder:"Rua, número, bairro, cidade, estado",rows:3,disabled:s}),A.address&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:A.address.message})]})]})]}),u&&(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{className:"font-headline tracking-wide",children:"Informações do Sistema"})}),(0,b.jsx)(i.CardContent,{children:(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-muted-foreground",children:"Slug"}),(0,b.jsx)("p",{className:"font-medium",children:u.slug})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-muted-foreground",children:"ID"}),(0,b.jsx)("p",{className:"font-medium font-mono text-xs",children:u.id})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-muted-foreground",children:"Cadastrado em"}),(0,b.jsx)("p",{className:"font-medium",children:new Date(u.createdAt).toLocaleString("pt-BR")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-muted-foreground",children:"Última atualização"}),(0,b.jsx)("p",{className:"font-medium",children:new Date(u.updatedAt).toLocaleString("pt-BR")})]})]})})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)(h.Button,{type:"submit",disabled:s,className:"gap-2",children:s?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.Loader2,{className:"h-4 w-4 animate-spin"}),"Salvando..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Save,{className:"h-4 w-4"}),"Salvar Configurações"]})})})]})]})}a.s(["default",()=>r])}];

//# sourceMappingURL=_90abf09b._.js.map