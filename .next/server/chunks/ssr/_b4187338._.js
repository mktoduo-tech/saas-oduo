module.exports=[77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},5784,67552,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>c],5784);let d=(0,b.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["ChevronUp",()=>d],67552)},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow-sm glass-card transition-all duration-300 hover:shadow-md hover:border-primary/20",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight text-gradient",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(187),g=a.i(68114);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-foreground/90"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],70430)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},72476,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(99570),g=a.i(91119),h=a.i(66718),i=a.i(70430),j=a.i(80701),k=a.i(210),l=a.i(14548),m=a.i(95245),n=a.i(59501),o=a.i(56757);let p=o.z.object({name:o.z.string().min(3,"Nome deve ter no mínimo 3 caracteres"),email:o.z.string().email("Email inválido"),password:o.z.string().min(6,"Senha deve ter no mínimo 6 caracteres"),role:o.z.enum(["ADMIN","MANAGER","OPERATOR","VIEWER"])}),q={ADMIN:"Administrador",MANAGER:"Gerente",OPERATOR:"Operador",VIEWER:"Visualizador"},r={ADMIN:"Controle total do sistema (exceto gestão de tenants)",MANAGER:"Pode criar e editar, mas não deletar",OPERATOR:"Cria reservas e visualiza clientes e equipamentos",VIEWER:"Apenas visualização de dados"};function s(){let a=(0,d.useRouter)(),[o,s]=(0,c.useState)(!1),{register:t,handleSubmit:u,control:v,formState:{errors:w}}=(0,m.useForm)({resolver:(0,n.zodResolver)(p)}),x=async b=>{try{s(!0);let c=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(c.ok)a.push("/usuarios"),a.refresh();else{let a=await c.json();alert(a.error||"Erro ao criar usuário")}}catch(a){console.error("Error creating user:",a),alert("Erro ao criar usuário")}finally{s(!1)}};return(0,b.jsxs)("div",{className:"p-8 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(e.default,{href:"/usuarios",children:(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(k.ArrowLeft,{className:"h-4 w-4"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground font-headline tracking-wide",children:"Novo Usuário"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Adicione um novo membro à sua equipe"})]})]}),(0,b.jsxs)("form",{onSubmit:u(x),className:"space-y-6",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"font-headline tracking-wide",children:"Informações Básicas"}),(0,b.jsx)(g.CardDescription,{children:"Dados do usuário para acesso ao sistema"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(i.Label,{htmlFor:"name",children:["Nome Completo ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(h.Input,{id:"name",...t("name"),placeholder:"Nome do usuário"}),w.name&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:w.name.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(i.Label,{htmlFor:"email",children:["Email ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(h.Input,{id:"email",type:"email",...t("email"),placeholder:"usuario@exemplo.com"}),w.email&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:w.email.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(i.Label,{htmlFor:"password",children:["Senha ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(h.Input,{id:"password",type:"password",...t("password"),placeholder:"Mínimo 6 caracteres"}),w.password&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:w.password.message})]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"font-headline tracking-wide",children:"Função e Permissões"}),(0,b.jsx)(g.CardDescription,{children:"Defina o nível de acesso do usuário no sistema"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(i.Label,{htmlFor:"role",children:["Função ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(m.Controller,{name:"role",control:v,render:({field:a})=>(0,b.jsxs)(j.Select,{onValueChange:a.onChange,value:a.value,children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{placeholder:"Selecione uma função"})}),(0,b.jsx)(j.SelectContent,{children:["ADMIN","MANAGER","OPERATOR","VIEWER"].map(a=>(0,b.jsx)(j.SelectItem,{value:a,children:(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("div",{className:"font-medium",children:q[a]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:r[a]})]})},a))})]})}),w.role&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:w.role.message})]}),(0,b.jsx)("div",{className:"rounded-lg border border-primary/30 bg-primary/10 p-4 dark:border-primary/40 dark:bg-primary/20",children:(0,b.jsxs)("p",{className:"text-sm text-foreground",children:[(0,b.jsx)("strong",{children:"Nota:"})," O usuário receberá um email com as credenciais de acesso após a criação da conta."]})})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,b.jsx)(e.default,{href:"/usuarios",children:(0,b.jsx)(f.Button,{type:"button",variant:"outline",disabled:o,children:"Cancelar"})}),(0,b.jsxs)(f.Button,{type:"submit",disabled:o,className:"gap-2",children:[(0,b.jsx)(l.Save,{className:"h-4 w-4"}),o?"Criando...":"Criar Usuário"]})]})]})]})}a.s(["default",()=>s])}];

//# sourceMappingURL=_b4187338._.js.map