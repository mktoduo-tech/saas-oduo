module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow-sm glass-card transition-all duration-300 hover:shadow-md hover:border-primary/20",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight text-gradient",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},86304,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(68114);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80 shadow-[0_0_10px_-3px_var(--color-primary)]",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",glass:"border-transparent bg-white/10 text-white backdrop-blur-md hover:bg-white/20"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},5784,67552,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>c],5784);let d=(0,b.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["ChevronUp",()=>d],67552)},6015,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},69012,a=>{"use strict";let b=(0,a.i(70106).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],69012)},2450,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(18402),e=a.i(99570),f=a.i(91119),g=a.i(80701),h=a.i(6015),i=a.i(86304),j=a.i(70106);let k=(0,j.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var l=a.i(69012);let m=(0,j.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var n=a.i(50522);let o={CREATE:"default",UPDATE:"secondary",DELETE:"destructive",LOGIN:"outline",LOGOUT:"outline",VIEW:"outline"},p={CREATE:"Criou",UPDATE:"Atualizou",DELETE:"Deletou",LOGIN:"Login",LOGOUT:"Logout",VIEW:"Visualizou"},q={USER:"Usuário",CUSTOMER:"Cliente",EQUIPMENT:"Equipamento",BOOKING:"Reserva",SYSTEM:"Sistema"};function r(){let{data:a}=(0,d.useSession)(),[j,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)({page:1,limit:50,total:0,totalPages:0}),[w,x]=(0,c.useState)("all"),[y,z]=(0,c.useState)("all"),A=async(a=1)=>{try{t(!0);let b=new URLSearchParams({page:a.toString(),limit:"50"});"all"!==w&&b.append("entity",w),"all"!==y&&b.append("action",y);let c=await fetch(`/api/activity-logs?${b}`);if(c.ok){let a=await c.json();r(a.logs),v(a.pagination)}}catch(a){console.error("Error fetching activity logs:",a)}finally{t(!1)}};(0,c.useEffect)(()=>{A(1)},[w,y]);let B=a=>{A(a)};return(0,b.jsxs)("div",{className:"p-8 space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-2 font-headline tracking-wide",children:[(0,b.jsx)(k,{className:"h-8 w-8"}),"Registro de Atividades"]}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Histórico de ações realizadas no sistema"})]})}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2 font-headline tracking-wide",children:[(0,b.jsx)(l.Filter,{className:"h-4 w-4"}),"Filtros"]}),(0,b.jsx)(f.CardDescription,{children:"Filtre os registros por tipo de ação ou entidade"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Entidade"}),(0,b.jsxs)(g.Select,{value:w,onValueChange:x,children:[(0,b.jsx)(g.SelectTrigger,{children:(0,b.jsx)(g.SelectValue,{placeholder:"Todas as entidades"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"all",children:"Todas as entidades"}),(0,b.jsx)(g.SelectItem,{value:"USER",children:"Usuários"}),(0,b.jsx)(g.SelectItem,{value:"CUSTOMER",children:"Clientes"}),(0,b.jsx)(g.SelectItem,{value:"EQUIPMENT",children:"Equipamentos"}),(0,b.jsx)(g.SelectItem,{value:"BOOKING",children:"Reservas"})]})]})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Ação"}),(0,b.jsxs)(g.Select,{value:y,onValueChange:z,children:[(0,b.jsx)(g.SelectTrigger,{children:(0,b.jsx)(g.SelectValue,{placeholder:"Todas as ações"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"all",children:"Todas as ações"}),(0,b.jsx)(g.SelectItem,{value:"CREATE",children:"Criação"}),(0,b.jsx)(g.SelectItem,{value:"UPDATE",children:"Atualização"}),(0,b.jsx)(g.SelectItem,{value:"DELETE",children:"Exclusão"}),(0,b.jsx)(g.SelectItem,{value:"LOGIN",children:"Login"}),(0,b.jsx)(g.SelectItem,{value:"LOGOUT",children:"Logout"})]})]})]})]})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"font-headline tracking-wide",children:s?"Carregando...":`${u.total} registro${1!==u.total?"s":""}`})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(h.Table,{children:[(0,b.jsx)(h.TableHeader,{children:(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(h.TableHead,{children:"Data/Hora"}),(0,b.jsx)(h.TableHead,{children:"Usuário"}),(0,b.jsx)(h.TableHead,{children:"Ação"}),(0,b.jsx)(h.TableHead,{children:"Entidade"}),(0,b.jsx)(h.TableHead,{children:"Descrição"})]})}),(0,b.jsx)(h.TableBody,{children:s?(0,b.jsx)(h.TableRow,{children:(0,b.jsx)(h.TableCell,{colSpan:5,className:"text-center py-8",children:"Carregando registros..."})}):0===j.length?(0,b.jsx)(h.TableRow,{children:(0,b.jsx)(h.TableCell,{colSpan:5,className:"text-center py-8",children:"Nenhum registro encontrado."})}):j.map(a=>(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(h.TableCell,{children:(0,b.jsx)("div",{className:"text-sm",children:new Date(a.createdAt).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})}),(0,b.jsx)(h.TableCell,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-sm",children:a.user.name}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.user.email})]})}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)(i.Badge,{variant:o[a.action],children:p[a.action]||a.action})}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)("span",{className:"text-sm",children:q[a.entity]||a.entity})}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)("span",{className:"text-sm",children:a.description})})]},a.id))})]})}),u.totalPages>1&&(0,b.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Página ",u.page," de ",u.totalPages]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>B(u.page-1),disabled:1===u.page||s,children:[(0,b.jsx)(m,{className:"h-4 w-4"}),"Anterior"]}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>B(u.page+1),disabled:u.page===u.totalPages||s,children:["Próxima",(0,b.jsx)(n.ChevronRight,{className:"h-4 w-4"})]})]})]})]})]})]})}a.s(["default",()=>r],2450)}];

//# sourceMappingURL=_073f1571._.js.map