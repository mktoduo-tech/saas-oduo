module.exports=[77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},5784,67552,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>c],5784);let d=(0,b.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["ChevronUp",()=>d],67552)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow-sm glass-card transition-all duration-300 hover:shadow-md hover:border-primary/20",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight text-gradient",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(187),g=a.i(68114);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-foreground/90"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],70430)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},42381,a=>{"use strict";var b=a.i(87924);let c=(0,a.i(70106).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var d=a.i(33508),e=a.i(99570),f=a.i(68114);function g({value:a=[],onChange:g,disabled:h,className:i,maxImages:j}){return(0,b.jsxs)("div",{className:(0,f.cn)("space-y-4",i),children:[(0,b.jsx)("div",{className:"flex flex-wrap gap-4",children:a.map((c,f)=>(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("img",{src:c,alt:`Upload ${f+1}`,className:"h-32 w-32 rounded-md object-cover"}),(0,b.jsx)(e.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition",onClick:()=>{g(a.filter((a,b)=>b!==f))},disabled:h,children:(0,b.jsx)(d.X,{className:"h-4 w-4"})})]},f))}),(0,b.jsxs)(e.Button,{type:"button",variant:"outline",onClick:()=>{if(j&&a.length>=j)return;let b=`https://via.placeholder.com/300x200?text=Image+${a.length+1}`;g([...a,b])},disabled:h||!!j&&a.length>=j,className:"w-full",children:[(0,b.jsx)(c,{className:"mr-2 h-4 w-4"}),"Upload Image",j&&` (${a.length}/${j})`]})]})}a.s(["ImageUpload",()=>g],42381)},10299,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(54714),h=a.i(38246),i=a.i(210),j=a.i(99570),k=a.i(91119),l=a.i(66718),m=a.i(70430),n=a.i(29246),o=a.i(80701),p=a.i(42381),q=a.i(23292);let r=g.object({name:g.string().min(3,"Nome deve ter no mínimo 3 caracteres"),description:g.string().optional(),category:g.string().min(2,"Categoria é obrigatória"),images:g.array(g.string()),pricePerHour:g.string().optional(),pricePerDay:g.string().min(1,"Preço por dia é obrigatório"),quantity:g.string().min(1,"Quantidade é obrigatória"),status:g.enum(["AVAILABLE","RENTED","MAINTENANCE","INACTIVE"])});function s(){let a=(0,d.useRouter)(),[g,s]=(0,c.useState)(!1),{register:t,handleSubmit:u,setValue:v,watch:w,formState:{errors:x}}=(0,e.useForm)({resolver:(0,f.zodResolver)(r),defaultValues:{status:"AVAILABLE",quantity:"1",images:[]}}),y=w("status"),z=w("images"),A=async b=>{s(!0);try{let c={name:b.name,description:b.description||null,category:b.category,images:b.images,pricePerHour:b.pricePerHour?parseFloat(b.pricePerHour):null,pricePerDay:parseFloat(b.pricePerDay),quantity:parseInt(b.quantity),status:b.status},d=await fetch("/api/equipments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!d.ok){let a=await d.json();throw Error(a.error||"Erro ao criar equipamento")}q.toast.success("Equipamento criado com sucesso!"),a.push("/equipamentos"),a.refresh()}catch(a){q.toast.error(a.message||"Erro ao criar equipamento")}finally{s(!1)}};return(0,b.jsxs)("div",{className:"p-8 max-w-4xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.default,{href:"/equipamentos",children:(0,b.jsxs)(j.Button,{variant:"ghost",size:"sm",className:"mb-4",children:[(0,b.jsx)(i.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Voltar"]})}),(0,b.jsx)("h1",{className:"text-4xl font-bold mb-2 font-headline tracking-wide",children:"Novo Equipamento"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Adicione um novo equipamento ao catálogo"})]}),(0,b.jsx)("form",{onSubmit:u(A),children:(0,b.jsxs)(k.Card,{children:[(0,b.jsxs)(k.CardHeader,{children:[(0,b.jsx)(k.CardTitle,{className:"font-headline tracking-wide",children:"Informações do Equipamento"}),(0,b.jsx)(k.CardDescription,{children:"Preencha os dados do equipamento"})]}),(0,b.jsxs)(k.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"name",children:"Nome *"}),(0,b.jsx)(l.Input,{id:"name",placeholder:"Ex: Betoneira 400L",disabled:g,...t("name")}),x.name&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:x.name.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"description",children:"Descrição"}),(0,b.jsx)(n.Textarea,{id:"description",placeholder:"Descreva o equipamento, características, especificações...",rows:4,disabled:g,...t("description")}),x.description&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:x.description.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"category",children:"Categoria *"}),(0,b.jsx)(l.Input,{id:"category",placeholder:"Ex: Construção, Jardinagem, Festa",disabled:g,...t("category")}),x.category&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:x.category.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{children:"Imagens do Equipamento"}),(0,b.jsx)(p.ImageUpload,{value:z,onChange:a=>v("images",a),maxImages:5,disabled:g}),x.images&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:x.images.message})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"pricePerDay",children:"Preço por Dia (R$) *"}),(0,b.jsx)(l.Input,{id:"pricePerDay",type:"number",step:"0.01",placeholder:"0.00",disabled:g,...t("pricePerDay")}),x.pricePerDay&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:x.pricePerDay.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"pricePerHour",children:"Preço por Hora (R$)"}),(0,b.jsx)(l.Input,{id:"pricePerHour",type:"number",step:"0.01",placeholder:"0.00 (opcional)",disabled:g,...t("pricePerHour")}),x.pricePerHour&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:x.pricePerHour.message})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"quantity",children:"Quantidade *"}),(0,b.jsx)(l.Input,{id:"quantity",type:"number",min:"1",disabled:g,...t("quantity")}),x.quantity&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:x.quantity.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"status",children:"Status *"}),(0,b.jsxs)(o.Select,{value:y,onValueChange:a=>v("status",a),disabled:g,children:[(0,b.jsx)(o.SelectTrigger,{children:(0,b.jsx)(o.SelectValue,{})}),(0,b.jsxs)(o.SelectContent,{children:[(0,b.jsx)(o.SelectItem,{value:"AVAILABLE",children:"Disponível"}),(0,b.jsx)(o.SelectItem,{value:"RENTED",children:"Alugado"}),(0,b.jsx)(o.SelectItem,{value:"MAINTENANCE",children:"Manutenção"}),(0,b.jsx)(o.SelectItem,{value:"INACTIVE",children:"Inativo"})]})]}),x.status&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:x.status.message})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)(j.Button,{type:"submit",disabled:g,className:"flex-1",children:g?"Criando...":"Criar Equipamento"}),(0,b.jsx)(h.default,{href:"/equipamentos",className:"flex-1",children:(0,b.jsx)(j.Button,{type:"button",variant:"outline",disabled:g,className:"w-full",children:"Cancelar"})})]})]})]})})]})}a.s(["default",()=>s])}];

//# sourceMappingURL=_cd227356._.js.map